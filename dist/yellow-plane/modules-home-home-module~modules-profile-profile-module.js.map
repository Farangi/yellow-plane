{"version":3,"sources":["webpack:///./src/app/shared/services/photos.service.ts","webpack:///./src/app/shared/services/posts.service.ts"],"names":[],"mappings":"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","file":"modules-home-home-module~modules-profile-profile-module.js","sourcesContent":["import { UserService } from \"./user.service\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport \"rxjs/add/operator/toPromise\";\r\nimport {\r\n  AngularFirestore,\r\n  AngularFirestoreDocument\r\n} from \"angularfire2/firestore\";\r\nimport {\r\n  AngularFireStorage,\r\n  AngularFireUploadTask\r\n} from \"angularfire2/storage\";\r\nimport { resolve } from \"path\";\r\nimport { reject } from \"q\";\r\nimport { Observable } from \"@firebase/util\";\r\n\r\n@Injectable()\r\nexport class PhotoService {\r\n  task: AngularFireUploadTask;\r\n  constructor(\r\n    private db: AngularFirestore,\r\n    private storage: AngularFireStorage,\r\n    private userService: UserService\r\n  ) {\r\n    // For time error\r\n    db.firestore.settings({ timestampsInSnapshots: true });\r\n  }\r\n\r\n  private executeUpload(photosWithDetail: any, user: any) {\r\n    return new Promise((resolve, reject) => {\r\n      let PHOTOS = [];\r\n      photosWithDetail.photos.forEach(photo => {\r\n        const file = photo.underlyingFile;\r\n        const path = `photos/${user.uid}/${new Date().getTime()}_${\r\n          photo.underlyingFile.name\r\n        }`;\r\n        const customMetadata = { app: \"Yellow Plane\" };\r\n        // start upload\r\n        this.storage\r\n          .upload(path, file, { customMetadata })\r\n          .then(resp => {\r\n            resp.ref\r\n              .getDownloadURL()\r\n              .then(url => {\r\n                PHOTOS.push({\r\n                  name: photo.underlyingFile.name,\r\n                  photoUrl: url,\r\n                  uploadedAt: new Date().toLocaleDateString(\"en-US\", {\r\n                    weekday: \"long\",\r\n                    year: \"numeric\",\r\n                    month: \"long\",\r\n                    day: \"numeric\"\r\n                  })\r\n                });\r\n                if (PHOTOS.length === photosWithDetail.photos.length) {\r\n                  this.db\r\n                    .collection(\"uploads\")\r\n                    .add({\r\n                      userId: user.uid,\r\n                      privacy: photosWithDetail.privacy,\r\n                      description: photosWithDetail.description,\r\n                      createdAt: new Date().toLocaleTimeString(\"en-US\", {\r\n                        weekday: \"long\",\r\n                        year: \"numeric\",\r\n                        month: \"long\",\r\n                        day: \"numeric\"\r\n                      }),\r\n                      photos: PHOTOS\r\n                    })\r\n                    .then(resp => {\r\n                      resolve(resp.id);\r\n                    })\r\n                    .catch(err => {\r\n                      reject(err);\r\n                    });\r\n                }\r\n              })\r\n              .catch(err => {\r\n                reject(err);\r\n              });\r\n          })\r\n          .catch(err => {\r\n            reject(err);\r\n          });\r\n      });\r\n    });\r\n  }\r\n\r\n  uploadPhotos(photosWithDetail: any) {\r\n    return new Promise((resolve, reject) => {\r\n      this.userService\r\n        .getCurrentUser()\r\n        .then(user => {\r\n          this.executeUpload(photosWithDetail, user)\r\n            .then(resp => {\r\n              //console.log(resp);\r\n              resolve(\"Photos Successfuly Uploaded!\");\r\n            })\r\n            .catch(err => {\r\n              reject(err);\r\n            });\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  uploadPhotosStatus(photosWithDetail: any) {\r\n    return new Promise((resolve, reject) => {\r\n      this.userService\r\n        .getCurrentUser()\r\n        .then(user => {\r\n          this.executeUpload(photosWithDetail, user)\r\n            .then(resp => {\r\n              resolve(resp);\r\n            })\r\n            .catch(err => {\r\n              reject(err);\r\n            });\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  getUpload(id) {\r\n    return this.db.doc(`uploads/${id}`).valueChanges();\r\n  }\r\n\r\n  private getUploads(user: any) {\r\n    return new Promise((resolve, reject) => {\r\n      let UPLOADS = [];\r\n      let queryResponse = this.db\r\n        .collection(\"uploads\", ref => ref.where(\"userId\", \"==\", user.uid))\r\n        .valueChanges();\r\n      queryResponse.subscribe(\r\n        data => {\r\n          data.forEach(upload => {\r\n            UPLOADS.push(upload);\r\n            if (data.length === UPLOADS.length) {\r\n              resolve(UPLOADS);\r\n            }\r\n          });\r\n        },\r\n        err => {\r\n          reject(err);\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  getCurrentUserPhotos() {\r\n    return new Promise((resolve, reject) => {\r\n      this.userService\r\n        .getCurrentUser()\r\n        .then(user => {\r\n          this.getUploads(user)\r\n            .then(resp => {\r\n              resolve(resp);\r\n            })\r\n            .catch(err => {\r\n              reject(err);\r\n            });\r\n\r\n          //resolve();\r\n        })\r\n        .catch(err => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport \"rxjs/add/operator/toPromise\";\r\nimport { map } from \"rxjs/operators\";\r\nimport { AngularFirestore, DocumentChangeAction } from \"angularfire2/firestore\";\r\nimport { UserService } from \"./user.service\";\r\n\r\n@Injectable()\r\nexport class PostService {\r\n  constructor(private db: AngularFirestore, private userService: UserService) {\r\n    // For time error\r\n    db.firestore.settings({ timestampsInSnapshots: true });\r\n  }\r\n\r\n  submitPost(post: any) {\r\n    return new Promise((resolve, reject) => {\r\n      this.userService\r\n        .getCurrentUserData()\r\n        .then((user: UserData) => {\r\n          post.user = user.username;\r\n          this.db\r\n            .collection(\"posts\")\r\n            .add(post)\r\n            .then(res => {\r\n              resolve(\"Submitted Succesfuly\");\r\n            })\r\n            .catch(err => reject(err));\r\n        })\r\n        .catch(err => reject(err));\r\n    });\r\n  }\r\n\r\n  commentPost(postId: any, comment: any) {\r\n    return new Promise((resolve, reject) => {\r\n      this.userService.getCurrentUserData().then((user: UserData) => {\r\n        this.db.collection(\"comments\").add({\r\n          message: comment,\r\n          postId: postId,\r\n          user: user.username\r\n        })\r\n          .then(res => {\r\n            resolve('Comment posted successfuly');\r\n          })\r\n          .catch(err => reject(err));\r\n      })\r\n        .catch(err => reject(err));\r\n    });\r\n  }\r\n\r\n  replyComment(commentId: any, reply: any) {\r\n    return new Promise((resolve, reject) => {\r\n      this.userService.getCurrentUserData().then((user: UserData) => {\r\n        this.db.collection(\"replies\").add({\r\n          message: reply,\r\n          commentId: commentId,\r\n          user: user.username\r\n        })\r\n          .then(res => {\r\n            resolve('Reply posted successfuly');\r\n          })\r\n          .catch(err => reject(err));\r\n      })\r\n        .catch(err => reject(err));\r\n    });\r\n  }\r\n\r\n  getUserPostsByUsername(username: string) {\r\n    // return this.db.collection('posts', ref => ref.where(\"user\", \"==\", username))\r\n    //   .valueChanges();\r\n    return this.db\r\n      .collection(\"posts\", ref => ref.where(\"user\", \"==\", username))\r\n      .snapshotChanges()\r\n      .pipe(\r\n        map(actions => {\r\n          return actions.map(a => {\r\n            const data: Object = a.payload.doc.data();\r\n            const id = a.payload.doc.id;\r\n            return { id, ...data };\r\n          });\r\n        })\r\n      );\r\n  }\r\n\r\n  getCommentsByPostId(postId: any) {\r\n    return this.db.collection(\"comments\", ref => ref.where(\"postId\", \"==\", postId))\r\n      .snapshotChanges()\r\n      .pipe(\r\n        map(actions => {\r\n          return actions.map(a => {\r\n            const data: Object = a.payload.doc.data();\r\n            const id = a.payload.doc.id;\r\n            return { id, ...data };\r\n          });\r\n        })\r\n      );\r\n  }\r\n\r\n  getRepliesByCommentId(commentId: any) {\r\n    return this.db.collection(\"replies\", ref => ref.where(\"commentId\", \"==\", commentId))\r\n      .snapshotChanges()\r\n      .pipe(\r\n        map(actions => {\r\n          return actions.map(a => {\r\n            const data: Object = a.payload.doc.data();\r\n            const id = a.payload.doc.id;\r\n            return { id, ...data };\r\n          });\r\n        })\r\n      );\r\n  }\r\n\r\n  likePost(post: any) {\r\n    return new Promise((resolve, reject) => {\r\n      this.userService.getCurrentUserData().then((user: UserData) => {\r\n        if (post.likes) {\r\n          if (!post.likes.find(like => like.username == user.username)) {\r\n            post.likes.push({\r\n              username: user.username\r\n            });\r\n            this.db.doc(`posts/${post.id}`)\r\n              .update({ likes: post.likes })\r\n              .then(res => {\r\n                resolve();\r\n              })\r\n              .catch(err => reject(err));\r\n          }\r\n        } else {\r\n          post.likes = [{ username: user.username }];\r\n          this.db.doc(`posts/${post.id}`)\r\n            .update({ likes: post.likes })\r\n            .then(res => {\r\n              resolve();\r\n            })\r\n            .catch(err => reject(err));\r\n        }\r\n      }).catch(err => reject(err));\r\n    });\r\n  }\r\n\r\n  likeComment(comment: any) {\r\n    return new Promise((resolve, reject) => {\r\n      this.userService.getCurrentUserData().then((user: UserData) => {\r\n        if (comment.likes) {\r\n          if (!comment.likes.find(like => like.username == user.username)) {\r\n            comment.likes.push({\r\n              username: user.username\r\n            });\r\n            this.db.doc(`comments/${comment.id}`)\r\n              .update({ likes: comment.likes })\r\n              .then(res => {\r\n                resolve();\r\n              })\r\n              .catch(err => reject(err));\r\n          }\r\n        } else {\r\n          comment.likes = [{ username: user.username }];\r\n          this.db.doc(`comments/${comment.id}`)\r\n            .update({ likes: comment.likes })\r\n            .then(res => {\r\n              resolve();\r\n            })\r\n            .catch(err => reject(err));\r\n        }\r\n      }).catch(err => reject(err));\r\n    });\r\n  }\r\n\r\n  likeReply(reply: any) {\r\n    return new Promise((resolve, reject) => {\r\n      this.userService.getCurrentUserData().then((user: UserData) => {\r\n        if (reply.likes) {\r\n          if (!reply.likes.find(like => like.username == user.username)) {\r\n            reply.likes.push({\r\n              username: user.username\r\n            });\r\n            this.db.doc(`replies/${reply.id}`)\r\n              .update({ likes: reply.likes })\r\n              .then(res => {\r\n                resolve();\r\n              })\r\n              .catch(err => reject(err));\r\n          }\r\n        } else {\r\n          reply.likes = [{ username: user.username }];\r\n          this.db.doc(`replies/${reply.id}`)\r\n            .update({ likes: reply.likes })\r\n            .then(res => {\r\n              resolve();\r\n            })\r\n            .catch(err => reject(err));\r\n        }\r\n      }).catch(err => reject(err));\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":""}